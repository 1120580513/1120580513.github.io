# DB

---

## SQL
`Oracle` `MySQL` `MSSQL` `PostgreSQL` `DB2` `Access` `SQLite` `Sybase`

## NoSQL 
`CouchDB` `Redis` `MongoDB` `Riak` `Membase` `Neo4j` `Cassandra` `HBase`

[详细](http://blog.jobbole.com/1344/)

* `全表扫描`：数据库检查所有的数据。
* `数据穿透`：缓存穿透是指查询一个一定不存在的数据，由于缓存是不命中时被动写的，并且出于容错考虑，如果从存储层查不到数据则不写入缓存，这将导致这个不存在的数据每次请求都要到存储层去查询，失去了缓存的意义。在流量大时，可能DB就挂掉了，要是有人利用不存在的key频繁攻击我们的应用，这就是漏洞。
* `缓存雪崩`： 缓存雪崩是指在我们设置缓存时采用了相同的过期时间，导致缓存在某一时刻同时失效，请求全部转发到DB，DB瞬时压力过重雪崩。

## 三大范式([详细](https://blog.csdn.net/dove_knowledge/article/details/71434960))
 1. 确保每列保持原子性`1NF`
 2. 在`1NF`的前提下确保表中的每列都和主键相关`2NF`
 3. 在`2NF`的前提下确保每列都和主键列直接相关,而不是间接相关`3NF`

## 事务([源](https://www.cnblogs.com/fjdingsd/p/5273008.html))
### ACID
 - 原子性（Atomicity）
 - 一致性（Consistency）
 - 隔离性（Isolation）
 - 持久性（Durability）

### 问题(如果没有隔离性)
* `脏读`：脏读是指在一个事务处理过程里读取了另一个未提交的事务中的数据。
* `不可重复读`：不可重复读是指在对于数据库中的某个数据，一个事务范围内多次查询却返回了不同的数据值，这是由于在查询间隔，被另一个事务修改并提交了。
* `虚读(幻读)`：幻读是事务非独立执行时发生的一种现象。例如事务T1对一个表中所有的行的某个数据项做了从“1”修改为“2”的操作，这时事务T2又对这个表中插入了一行数据项，而这个数据项的数值还是为“1”并且提交给数据库。而操作事务T1的用户如果再查看刚刚修改的数据，会发现还有一行没有修改，其实这行是从事务T2中添加的，就好像产生幻觉一样，这就是发生了幻读。

### 事务隔离级别
- `未提交读（READ UNCOMMITTED）`：事务中的修改，即使没有提交，对其它事务也是可见的。最低级别，任何情况都无法保证。
- `提交读（READCOMMITTED）`：一个事务只能读取已经提交的事务所做的修改。句话说，一个事务所做的修改在提交之前对其它事务是不可见的。可避免脏读的发生。（Sql Server、Oracle默认级别）
- `可重复读（REPEATABLEREAD）`：保证在同一个事务中多次读取同样数据的结果是一样的。可避免脏读、不可重复读的发生。（MySql默认级别）
- `可串行化（SERIALIXABLE）`：强制事务串行执行。可避免脏读、不可重复读、幻读的发生。